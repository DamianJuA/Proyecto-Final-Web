<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Historial Clínico del Paciente</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="historialclinico2.css" rel="stylesheet">   
    <link rel="stylesheet" href="footer.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
            <a class="navbar-brand">
                <img src="img/logolimpio.jpg" alt="" width="30" height="24" class="d-inline-block align-text-top">
                Torre Áurea Médica
              </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" aria-current="page" href="indexdoc.html">Inicio</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="nosotrosdoc.html">Nosotros</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link" href="agenda.html" >Agenda</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link" href="HistorialClinico2.html" >Historial clinico</a>
                    </li>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link" href="Index.html" >Cerrar sesión</a>
                    </li>
                </ul>
          </div>
        </div>
    </nav>
    <div class="container mt-5">
        <h1 class="text-center mb-4"><img src="img/logolimpio.png" width="200" alt=""> Historial Clínico del Paciente</h1>
        <div class="card mb-4">
            <div class="card-header bg-secondary text-white">
                Agregar Nueva Consulta
            </div>
            <div class="card-body">
                <form id="form-agregar">
                    <div class="mb-3">
                        <label for="fecha" class="form-label">Fecha</label>
                        <input type="date" class="form-control" id="fecha" required>
                    </div>
                    <div class="mb-3">
                        <label for="diagnostico" class="form-label">Nombre</label>
                        <input type="text" class="form-control" id="Nombre" required>
                    </div>
                    <div class="mb-3">
                        <label for="consulta" class="form-label">Consulta</label>
                        <input type="text" class="form-control" id="consulta" required>
                    </div>
                    <div class="mb-3">
                        <label for="diagnostico" class="form-label">Diagnóstico</label>
                        <input type="text" class="form-control" id="diagnostico" required>
                    </div>
                    <div class="mb-3">
                        <label for="medicacion" class="form-label">Medicación</label>
                        <input type="text" class="form-control" id="medicacion" required>
                    </div>
                    <button type="submit" class="btn btn-success">Agregar</button>
                </form>
            </div>
        </div>
        
        <div class="card">
            <div class="card-header bg-success text-white">
                Historial Clínico
            </div>
            <div class="card-body">
                <table class="table table-striped" id="tabla-historial">
                    <thead>
                        <tr>
                            <th>Nombre</th>
                            <th>Fecha</th>
                            <th>Consulta</th>
                            <th>Diagnóstico</th>
                            <th>Medicación</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Juan Perez</td>
                            <td>2024-11-01</td>
                            <td>Chequeo general</td>
                            <td>Hipertensión arterial</td>
                            <td>Lisinopril 10mg/día</td>
                            <td>
                                <button class="btn btn-warning btn-sm btn-editar">Editar</button>
                                <button class="btn btn-danger btn-sm btn-eliminar">Eliminar</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <footer class="bg-dark text-white text-center py-3">
        <div class="text-center p-3">
            &copy; 2024 Torre Médica | Síguenos en nuestras redes sociales
            <class="ms-2"><a href="https://www.facebook.com/FESAragonUNAM/?locale=es_LA"><i class="fa-brands fa-facebook"></i></a>
            <class="ms-2"><a href="https://www.instagram.com/fesaragonunam/?hl=es_LA"><i class="fa-brands fa-instagram"></i></a>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const formAgregar = document.getElementById('form-agregar');
        const tablaHistorial = document.getElementById('tabla-historial').querySelector('tbody');

        formAgregar.addEventListener('submit', (e) => {
            e.preventDefault();
            const Nombre = document.getElementById('Nombre').value;
            const fecha = document.getElementById('fecha').value;
            const consulta = document.getElementById('consulta').value;
            const diagnostico = document.getElementById('diagnostico').value;
            const medicacion = document.getElementById('medicacion').value;

            const nuevaFila = `
                <tr>
                    <td>${Nombre}</td>
                    <td>${fecha}</td>
                    <td>${consulta}</td>
                    <td>${diagnostico}</td>
                    <td>${medicacion}</td>
                    <td>
                        <button class="btn btn-warning btn-sm btn-editar">Editar</button>
                        <button class="btn btn-danger btn-sm btn-eliminar">Eliminar</button>
                    </td>
                </tr>
            `;
            tablaHistorial.innerHTML += nuevaFila;
            formAgregar.reset();
        });

        tablaHistorial.addEventListener('click', (e) => {
            if (e.target.classList.contains('btn-eliminar')) {
                e.target.closest('tr').remove();
            } else if (e.target.classList.contains('btn-editar')) {
                const fila = e.target.closest('tr');
                const celdas = fila.querySelectorAll('td');
                document.getElementById('Nombre').value = celdas[0].textContent;
                document.getElementById('fecha').value = celdas[1].textContent;
                document.getElementById('consulta').value = celdas[2].textContent;
                document.getElementById('diagnostico').value = celdas[3].textContent;
                document.getElementById('medicacion').value = celdas[4].textContent;

                fila.remove();
            }
        });
    </script>
</body>
</html>
